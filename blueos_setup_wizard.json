{
  "name": "TEKNOFEST Su AltÄ± Roket AracÄ± Setup",
  "description": "2025 TEKNOFEST yarÄ±ÅŸmasÄ± iÃ§in su altÄ± roket aracÄ± otomatik kurulum",
  "version": "1.0.0",
  "author": "TEKNOFEST TakÄ±m",
  "vehicle_type": "ROV",
  "setup_steps": [
    {
      "id": "welcome",
      "title": "ğŸš€ TEKNOFEST Su AltÄ± Roket AracÄ±",
      "type": "info",
      "content": {
        "message": "Bu sihirbaz aracÄ±nÄ±zÄ± TEKNOFEST 2025 yarÄ±ÅŸmasÄ± iÃ§in hazÄ±rlayacak.",
        "details": [
          "âœ… Raspberry Pi 4B + Pixhawk PX4 PIX 2.4.8",
          "âœ… 4x DS3230MG Su GeÃ§irmez Servo",
          "âœ… DEGZ M5 Motor + 30A ESC",
          "âœ… D300 Derinlik SensÃ¶rÃ¼",
          "âœ… Custom X-Configuration Frame"
        ]
      }
    },
    {
      "id": "hardware_check",
      "title": "ğŸ”§ Hardware Kontrol",
      "type": "hardware_detection",
      "checks": [
        {
          "name": "Pixhawk Connection",
          "type": "mavlink_heartbeat",
          "required": true,
          "timeout": 10
        },
        {
          "name": "D300 Depth Sensor",
          "type": "i2c_device",
          "address": "0x77",
          "required": true
        },
        {
          "name": "Servo Channels 1-5",
          "type": "servo_test",
          "channels": [1, 2, 3, 4, 5],
          "required": true
        },
        {
          "name": "Main Motor (Ch 8)",
          "type": "esc_test",
          "channel": 8,
          "required": true
        },
        {
          "name": "GPIO Emergency Button",
          "type": "gpio_test",
          "pin": 18,
          "required": false
        }
      ]
    },
    {
      "id": "frame_config",
      "title": "ğŸ› ï¸ Frame KonfigÃ¼rasyonu",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "FRAME_CLASS",
          "value": 2,
          "description": "ROV frame class"
        },
        {
          "name": "FRAME_TYPE",
          "value": 12,
          "description": "Custom frame type"
        },
        {
          "name": "SERVO1_FUNCTION",
          "value": 73,
          "description": "Motor1 (Fin Front Left)"
        },
        {
          "name": "SERVO2_FUNCTION", 
          "value": 74,
          "description": "Motor2 (Fin Front Right)"
        },
        {
          "name": "SERVO3_FUNCTION",
          "value": 75,
          "description": "Motor3 (Fin Rear Left)"
        },
        {
          "name": "SERVO4_FUNCTION",
          "value": 76,
          "description": "Motor4 (Fin Rear Right)"
        },
        {
          "name": "SERVO5_FUNCTION",
          "value": 77,
          "description": "Elevator (Depth control)"
        },
        {
          "name": "SERVO8_FUNCTION",
          "value": 70,
          "description": "Main thruster"
        }
      ]
    },
    {
      "id": "sensor_calibration",
      "title": "ğŸ§­ SensÃ¶r Kalibrasyonu",
      "type": "calibration_sequence",
      "calibrations": [
        {
          "name": "Accelerometer Calibration",
          "type": "accel_cal",
          "instructions": "AracÄ± 6 farklÄ± pozisyonda tutun (level, nose up/down, left/right, upside down)",
          "required": true
        },
        {
          "name": "Compass Calibration",
          "type": "compass_cal",
          "instructions": "AracÄ± tÃ¼m eksenlerde yavaÅŸÃ§a dÃ¶ndÃ¼rÃ¼n",
          "required": true
        },
        {
          "name": "Pressure Sensor Calibration", 
          "type": "baro_cal",
          "instructions": "AracÄ±n su yÃ¼zeyinde olduÄŸundan emin olun",
          "required": true
        },
        {
          "name": "ESC Calibration",
          "type": "esc_cal",
          "instructions": "Motor ESC kalibrasyonu yapÄ±lacak",
          "required": true,
          "channels": [8]
        }
      ]
    },
    {
      "id": "underwater_params",
      "title": "ğŸŒŠ Su AltÄ± Parametreleri",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "PILOT_SPEED_UP",
          "value": 50,
          "description": "YukarÄ± hareket hÄ±zÄ± (cm/s)"
        },
        {
          "name": "PILOT_SPEED_DN",
          "value": 50,
          "description": "AÅŸaÄŸÄ± hareket hÄ±zÄ± (cm/s)"
        },
        {
          "name": "PILOT_ACCEL_Z",
          "value": 100,
          "description": "Dikey ivme (cm/sÂ²)"
        },
        {
          "name": "PSC_POSZ_P",
          "value": 5.0,
          "description": "Pozisyon Z P gain"
        },
        {
          "name": "PSC_VELZ_P", 
          "value": 8.0,
          "description": "Velocity Z P gain"
        },
        {
          "name": "PSC_ACCZ_P",
          "value": 0.5,
          "description": "Acceleration Z P gain"
        },
        {
          "name": "PSC_ACCZ_I",
          "value": 1.5,
          "description": "Acceleration Z I gain"
        },
        {
          "name": "PSC_ACCZ_D",
          "value": 0.0,
          "description": "Acceleration Z D gain"
        }
      ]
    },
    {
      "id": "safety_config",
      "title": "ğŸ›¡ï¸ GÃ¼venlik AyarlarÄ±",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "BATT_LOW_VOLT",
          "value": 19.8,
          "description": "DÃ¼ÅŸÃ¼k batarya voltajÄ± (6S iÃ§in 3.3V/hÃ¼cre)"
        },
        {
          "name": "BATT_CRT_VOLT",
          "value": 18.6,
          "description": "Kritik batarya voltajÄ± (6S iÃ§in 3.1V/hÃ¼cre)"
        },
        {
          "name": "BATT_LOW_MAH",
          "value": 1440,
          "description": "DÃ¼ÅŸÃ¼k batarya kapasitesi (mAh) - %80 of 1800mAh"
        },
        {
          "name": "FS_BATT_ENABLE",
          "value": 1,
          "description": "Batarya fail-safe etkin"
        },
        {
          "name": "FS_LEAK_ENABLE",
          "value": 1,
          "description": "Su kaÃ§aÄŸÄ± fail-safe etkin"
        },
        {
          "name": "FENCE_ENABLE",
          "value": 1,
          "description": "Geofence etkin"
        },
        {
          "name": "FENCE_TYPE",
          "value": 7,
          "description": "Fence type (alt+circle)"
        },
        {
          "name": "FENCE_ALT_MIN",
          "value": -10,
          "description": "Minimum altitude (max depth 10m)"
        },
        {
          "name": "FENCE_RADIUS",
          "value": 100,
          "description": "Maximum horizontal distance (100m)"
        }
      ]
    },
    {
      "id": "mission_modes",
      "title": "ğŸ¯ GÃ¶rev ModlarÄ±",
      "type": "flight_mode_setup", 
      "modes": [
        {
          "channel": 1,
          "name": "Manual",
          "mode": "Manual",
          "description": "Manuel kontrol modu"
        },
        {
          "channel": 2,
          "name": "Depth Hold",
          "mode": "AltHold", 
          "description": "Derinlik tutma modu"
        },
        {
          "channel": 3,
          "name": "Stabilize",
          "mode": "Stabilize",
          "description": "Stabilizasyon modu"
        },
        {
          "channel": 4,
          "name": "Auto Mission",
          "mode": "Auto",
          "description": "Otomatik gÃ¶rev modu"
        },
        {
          "channel": 5,
          "name": "Position Hold",
          "mode": "PosHold",
          "description": "Pozisyon tutma"
        },
        {
          "channel": 6,
          "name": "Surface",
          "mode": "Surface",
          "description": "YÃ¼zeye Ã§Ä±kÄ±ÅŸ modu"
        }
      ]
    },
    {
      "id": "lua_script_upload",
      "title": "ğŸ“œ Custom Lua Script",
      "type": "file_upload",
      "files": [
        {
          "name": "pixhawk_underwater_frame.lua",
          "destination": "/APM/scripts/pixhawk_underwater_frame.lua",
          "description": "TEKNOFEST Ã¶zel underwater frame scripti",
          "required": true
        }
      ],
      "parameters": [
        {
          "name": "SCR_ENABLE",
          "value": 1,
          "description": "Lua scripting etkinleÅŸtir"
        },
        {
          "name": "SCR_VM_I_COUNT",
          "value": 50000,
          "description": "Script instruction count"
        },
        {
          "name": "SCR_HEAP_SIZE",
          "value": 64000,
          "description": "Script heap size (bytes)"
        }
      ]
    },
    {
      "id": "communication_setup", 
      "title": "ğŸ“¡ Ä°letiÅŸim AyarlarÄ±",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "SERIAL0_PROTOCOL",
          "value": 2,
          "description": "USB port mavlink protocol"
        },
        {
          "name": "SERIAL0_BAUD",
          "value": 115200,
          "description": "USB baud rate"
        },
        {
          "name": "SR0_EXT_STAT",
          "value": 2,
          "description": "Extended status rate (Hz)"
        },
        {
          "name": "SR0_EXTRA1",
          "value": 4,
          "description": "Extra1 stream rate (Hz)"
        },
        {
          "name": "SR0_EXTRA2",
          "value": 4,
          "description": "Extra2 stream rate (Hz)"
        },
        {
          "name": "SR0_EXTRA3",
          "value": 2,
          "description": "Extra3 stream rate (Hz)"
        },
        {
          "name": "SR0_POSITION",
          "value": 2,
          "description": "Position stream rate (Hz)"
        },
        {
          "name": "SR0_RC_CHAN",
          "value": 5,
          "description": "RC channel stream rate (Hz)"
        },
        {
          "name": "SR0_RAW_SENS",
          "value": 2,
          "description": "Raw sensor stream rate (Hz)"
        }
      ]
    },
    {
      "id": "final_tests",
      "title": "ğŸ§ª Final Testler",
      "type": "system_test",
      "tests": [
        {
          "name": "Motor Test",
          "description": "TÃ¼m motorlarÄ± test et",
          "type": "motor_test_sequence",
          "channels": [1, 2, 3, 4, 5, 8],
          "duration": 3,
          "power": 20
        },
        {
          "name": "Depth Hold Test",
          "description": "Derinlik tutma testi",
          "type": "mode_test",
          "mode": "AltHold",
          "duration": 10
        },
        {
          "name": "Stabilization Test", 
          "description": "Stabilizasyon testi",
          "type": "attitude_test",
          "duration": 10
        },
        {
          "name": "GPS Test",
          "description": "GPS konumu testi",
          "type": "gps_test",
          "min_satellites": 6,
          "timeout": 30
        },
        {
          "name": "Battery Monitor Test",
          "description": "Batarya monitÃ¶rÃ¼ testi",
          "type": "battery_test",
          "expected_voltage": 22.2,
          "tolerance": 2.0
        }
      ]
    },
    {
      "id": "mission_planning",
      "title": "ğŸ—ºï¸ GÃ¶rev Planlama",
      "type": "mission_setup",
      "content": {
        "message": "TEKNOFEST gÃ¶revleri iÃ§in waypoint'leri ayarlayÄ±n",
        "templates": [
          {
            "name": "GÃ¶rev 1: Seyir + Geri DÃ¶nÃ¼ÅŸ", 
            "description": "10m dÃ¼z seyir, 50m uzaklaÅŸma, geri dÃ¶nÃ¼ÅŸ",
            "waypoints": [
              {
                "type": "TAKEOFF",
                "depth": -2.0,
                "description": "2m derinliÄŸe in"
              },
              {
                "type": "WAYPOINT", 
                "relative_position": [10, 0],
                "depth": -2.0,
                "description": "10m dÃ¼z seyir"
              },
              {
                "type": "WAYPOINT",
                "relative_position": [50, 0], 
                "depth": -2.0,
                "description": "50m uzaklaÅŸ"
              },
              {
                "type": "RTL",
                "depth": -2.0,
                "description": "BaÅŸlangÄ±ca dÃ¶n"
              },
              {
                "type": "LAND",
                "depth": 0.0,
                "description": "YÃ¼zeye Ã§Ä±k"
              }
            ]
          },
          {
            "name": "GÃ¶rev 2: Roket AtÄ±ÅŸÄ±",
            "description": "AtÄ±ÅŸ bÃ¶lgesine git, +30Â° eÄŸim, roket fÄ±rlat",
            "waypoints": [
              {
                "type": "TAKEOFF",
                "depth": -2.0,
                "description": "2m derinliÄŸe in"
              },
              {
                "type": "WAYPOINT",
                "relative_position": [0, 0],
                "depth": -2.0,
                "description": "AtÄ±ÅŸ bÃ¶lgesi"
              },
              {
                "type": "LAND", 
                "depth": 0.0,
                "pitch": 30.0,
                "description": "YÃ¼zeye +30Â° eÄŸimle Ã§Ä±k"
              },
              {
                "type": "DO_SET_SERVO",
                "channel": 6,
                "pwm": 2000,
                "description": "Payload bay aÃ§"
              },
              {
                "type": "DO_SET_SERVO",
                "channel": 7, 
                "pwm": 2000,
                "description": "Roket fÄ±rlat"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "completion",
      "title": "ğŸ‰ Kurulum TamamlandÄ±!",
      "type": "completion",
      "content": {
        "message": "TEKNOFEST Su AltÄ± Roket AracÄ±nÄ±z kullanÄ±ma hazÄ±r!",
        "next_steps": [
          "ğŸ”‹ Batarya seviyesini kontrol edin (>22V)",
          "ğŸŒŠ Su geÃ§irgenlik testini yapÄ±n",
          "ğŸ“¡ Telemetri baÄŸlantÄ±sÄ±nÄ± test edin", 
          "ğŸ¯ GÃ¶rev planÄ±nÄ± yÃ¼kleyin",
          "ğŸš€ Test sÃ¼rÃ¼ÅŸÃ¼ yapÄ±n",
          "ğŸ“¹ Kabiliyet videosunu Ã§ekin"
        ],
        "support": {
          "documentation": "README.md",
          "test_scripts": "Test/ klasÃ¶rÃ¼",
          "demo_scripts": "Kabiliyet Videosu/ klasÃ¶rÃ¼"
        }
      }
    }
  ],
  "post_setup_actions": [
    {
      "name": "Parameter Backup",
      "description": "TÃ¼m parametreleri yedekle",
      "action": "param_backup",
      "filename": "teknofest_params_backup.param"
    },
    {
      "name": "Reboot System",
      "description": "Sistemi yeniden baÅŸlat",
      "action": "reboot",
      "delay": 5
    },
    {
      "name": "Health Check",
      "description": "Sistem saÄŸlÄ±ÄŸÄ±nÄ± kontrol et",
      "action": "health_check",
      "timeout": 30
    }
  ],
  "troubleshooting": {
    "common_issues": [
      {
        "issue": "Pixhawk baÄŸlantÄ± hatasÄ±",
        "solutions": [
          "USB kablosunu kontrol edin",
          "BlueOS'un Pixhawk'Ä± algÄ±ladÄ±ÄŸÄ±ndan emin olun",
          "FarklÄ± USB port deneyin"
        ]
      },
      {
        "issue": "Servo tepki vermiyor",
        "solutions": [
          "Servo gÃ¼Ã§ kaynaÄŸÄ±nÄ± kontrol edin",
          "PWM kablo baÄŸlantÄ±larÄ±nÄ± kontrol edin", 
          "SERVO_FUNCTION parametrelerini kontrol edin"
        ]
      },
      {
        "issue": "Derinlik sensÃ¶rÃ¼ okumuyor",
        "solutions": [
          "I2C baÄŸlantÄ±larÄ±nÄ± kontrol edin (GPIO 2/3)",
          "D300 sensÃ¶rÃ¼n 0x77 adresinde olduÄŸunu doÄŸrulayÄ±n",
          "i2cdetect -y 1 komutuyla sensÃ¶rÃ¼ kontrol edin"
        ]
      },
      {
        "issue": "Motor arming yapamÄ±yor",
        "solutions": [
          "KalibrasyonlarÄ±n tamamlandÄ±ÄŸÄ±ndan emin olun",
          "GÃ¼venlik kontrol anahtarÄ±nÄ± kontrol edin",
          "Batarya voltajÄ±nÄ±n yeterli olduÄŸunu kontrol edin"
        ]
      }
    ]
  }
} 