{
  "name": "TEKNOFEST Su Altƒ± Roket Aracƒ± Setup",
  "description": "2025 TEKNOFEST yarƒ±≈ümasƒ± i√ßin su altƒ± roket aracƒ± otomatik kurulum",
  "version": "1.0.0",
  "author": "TEKNOFEST Takƒ±m",
  "vehicle_type": "ROV",
  "setup_steps": [
    {
      "id": "welcome",
      "title": "üöÄ TEKNOFEST Su Altƒ± Roket Aracƒ±",
      "type": "info",
      "content": {
        "message": "Bu sihirbaz aracƒ±nƒ±zƒ± TEKNOFEST 2025 yarƒ±≈ümasƒ± i√ßin hazƒ±rlayacak.",
        "details": [
          "‚úÖ Raspberry Pi 4B + Pixhawk PX4 PIX 2.4.8",
          "‚úÖ 4x DS3230MG Su Ge√ßirmez Servo",
          "‚úÖ DEGZ M5 Motor + 30A ESC",
          "‚úÖ D300 Derinlik Sens√∂r√º",
          "‚úÖ Custom X-Configuration Frame"
        ]
      }
    },
    {
      "id": "hardware_check",
      "title": "üîß Hardware Kontrol",
      "type": "hardware_detection",
      "checks": [
        {
          "name": "Pixhawk Connection",
          "type": "mavlink_heartbeat",
          "required": true,
          "timeout": 10
        },
        {
          "name": "D300 Depth Sensor",
          "type": "i2c_device",
          "address": "0x77",
          "required": true
        },
        {
          "name": "Servo Channels 1-5",
          "type": "servo_test",
          "channels": [1, 2, 3, 4, 5],
          "required": true
        },
        {
          "name": "Main Motor (Ch 8)",
          "type": "esc_test",
          "channel": 8,
          "required": true
        },
        {
          "name": "GPIO Emergency Button",
          "type": "gpio_test",
          "pin": 18,
          "required": false
        }
      ]
    },
    {
      "id": "frame_config",
      "title": "üõ†Ô∏è Frame Konfig√ºrasyonu",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "FRAME_CLASS",
          "value": 2,
          "description": "ROV frame class"
        },
        {
          "name": "FRAME_TYPE",
          "value": 12,
          "description": "Custom frame type"
        },
        {
          "name": "SERVO1_FUNCTION",
          "value": 73,
          "description": "Motor1 (Fin Front Left)"
        },
        {
          "name": "SERVO2_FUNCTION", 
          "value": 74,
          "description": "Motor2 (Fin Front Right)"
        },
        {
          "name": "SERVO3_FUNCTION",
          "value": 75,
          "description": "Motor3 (Fin Rear Left)"
        },
        {
          "name": "SERVO4_FUNCTION",
          "value": 76,
          "description": "Motor4 (Fin Rear Right)"
        },
        {
          "name": "SERVO5_FUNCTION",
          "value": 77,
          "description": "Elevator (Depth control)"
        },
        {
          "name": "SERVO8_FUNCTION",
          "value": 70,
          "description": "Main thruster"
        }
      ]
    },
    {
      "id": "sensor_calibration",
      "title": "üß≠ Sens√∂r Kalibrasyonu",
      "type": "calibration_sequence",
      "calibrations": [
        {
          "name": "Accelerometer Calibration",
          "type": "accel_cal",
          "instructions": "Aracƒ± 6 farklƒ± pozisyonda tutun (level, nose up/down, left/right, upside down)",
          "required": true
        },
        {
          "name": "Compass Calibration",
          "type": "compass_cal",
          "instructions": "Aracƒ± t√ºm eksenlerde yava≈ü√ßa d√∂nd√ºr√ºn",
          "required": true
        },
        {
          "name": "Pressure Sensor Calibration", 
          "type": "baro_cal",
          "instructions": "Aracƒ±n su y√ºzeyinde olduƒüundan emin olun",
          "required": true
        },
        {
          "name": "ESC Calibration",
          "type": "esc_cal",
          "instructions": "Motor ESC kalibrasyonu yapƒ±lacak",
          "required": true,
          "channels": [8]
        }
      ]
    },
    {
      "id": "underwater_params",
      "title": "üåä Su Altƒ± Parametreleri",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "PILOT_SPEED_UP",
          "value": 50,
          "description": "Yukarƒ± hareket hƒ±zƒ± (cm/s)"
        },
        {
          "name": "PILOT_SPEED_DN",
          "value": 50,
          "description": "A≈üaƒüƒ± hareket hƒ±zƒ± (cm/s)"
        },
        {
          "name": "PILOT_ACCEL_Z",
          "value": 100,
          "description": "Dikey ivme (cm/s¬≤)"
        },
        {
          "name": "PSC_POSZ_P",
          "value": 5.0,
          "description": "Pozisyon Z P gain"
        },
        {
          "name": "PSC_VELZ_P", 
          "value": 8.0,
          "description": "Velocity Z P gain"
        },
        {
          "name": "PSC_ACCZ_P",
          "value": 0.5,
          "description": "Acceleration Z P gain"
        },
        {
          "name": "PSC_ACCZ_I",
          "value": 1.5,
          "description": "Acceleration Z I gain"
        },
        {
          "name": "PSC_ACCZ_D",
          "value": 0.0,
          "description": "Acceleration Z D gain"
        }
      ]
    },
    {
      "id": "safety_config",
      "title": "üõ°Ô∏è G√ºvenlik Ayarlarƒ±",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "BATT_LOW_VOLT",
          "value": 19.8,
          "description": "D√º≈ü√ºk batarya voltajƒ± (6S i√ßin 3.3V/h√ºcre)"
        },
        {
          "name": "BATT_CRT_VOLT",
          "value": 18.6,
          "description": "Kritik batarya voltajƒ± (6S i√ßin 3.1V/h√ºcre)"
        },
        {
          "name": "BATT_LOW_MAH",
          "value": 1440,
          "description": "D√º≈ü√ºk batarya kapasitesi (mAh) - %80 of 1800mAh"
        },
        {
          "name": "FS_BATT_ENABLE",
          "value": 1,
          "description": "Batarya fail-safe etkin"
        },
        {
          "name": "FS_LEAK_ENABLE",
          "value": 1,
          "description": "Su ka√ßaƒüƒ± fail-safe etkin"
        },
        {
          "name": "FENCE_ENABLE",
          "value": 1,
          "description": "Geofence etkin"
        },
        {
          "name": "FENCE_TYPE",
          "value": 7,
          "description": "Fence type (alt+circle)"
        },
        {
          "name": "FENCE_ALT_MIN",
          "value": -10,
          "description": "Minimum altitude (max depth 10m)"
        },
        {
          "name": "FENCE_RADIUS",
          "value": 100,
          "description": "Maximum horizontal distance (100m)"
        }
      ]
    },
    {
      "id": "mission_modes",
      "title": "üéØ G√∂rev Modlarƒ±",
      "type": "flight_mode_setup", 
      "modes": [
        {
          "channel": 1,
          "name": "Manual",
          "mode": "Manual",
          "description": "Manuel kontrol modu"
        },
        {
          "channel": 2,
          "name": "Depth Hold",
          "mode": "AltHold", 
          "description": "Derinlik tutma modu"
        },
        {
          "channel": 3,
          "name": "Stabilize",
          "mode": "Stabilize",
          "description": "Stabilizasyon modu"
        },
        {
          "channel": 4,
          "name": "Auto Mission",
          "mode": "Auto",
          "description": "Otomatik g√∂rev modu"
        },
        {
          "channel": 5,
          "name": "Position Hold",
          "mode": "PosHold",
          "description": "Pozisyon tutma"
        },
        {
          "channel": 6,
          "name": "Surface",
          "mode": "Surface",
          "description": "Y√ºzeye √ßƒ±kƒ±≈ü modu"
        }
      ]
    },
    {
      "id": "lua_script_upload",
      "title": "üìú Custom Lua Script",
      "type": "file_upload",
      "files": [
        {
          "name": "pixhawk_underwater_frame.lua",
          "destination": "/APM/scripts/pixhawk_underwater_frame.lua",
          "description": "TEKNOFEST √∂zel underwater frame scripti",
          "required": true
        }
      ],
      "parameters": [
        {
          "name": "SCR_ENABLE",
          "value": 1,
          "description": "Lua scripting etkinle≈ütir"
        },
        {
          "name": "SCR_VM_I_COUNT",
          "value": 50000,
          "description": "Script instruction count"
        },
        {
          "name": "SCR_HEAP_SIZE",
          "value": 64000,
          "description": "Script heap size (bytes)"
        }
      ]
    },
    {
      "id": "communication_setup", 
      "title": "üì° ƒ∞leti≈üim Ayarlarƒ±",
      "type": "parameter_setup",
      "parameters": [
        {
          "name": "SERIAL0_PROTOCOL",
          "value": 2,
          "description": "USB port mavlink protocol"
        },
        {
          "name": "SERIAL0_BAUD",
          "value": 115200,
          "description": "USB baud rate"
        },
        {
          "name": "SR0_EXT_STAT",
          "value": 2,
          "description": "Extended status rate (Hz)"
        },
        {
          "name": "SR0_EXTRA1",
          "value": 4,
          "description": "Extra1 stream rate (Hz)"
        },
        {
          "name": "SR0_EXTRA2",
          "value": 4,
          "description": "Extra2 stream rate (Hz)"
        },
        {
          "name": "SR0_EXTRA3",
          "value": 2,
          "description": "Extra3 stream rate (Hz)"
        },
        {
          "name": "SR0_POSITION",
          "value": 2,
          "description": "Position stream rate (Hz)"
        },
        {
          "name": "SR0_RC_CHAN",
          "value": 5,
          "description": "RC channel stream rate (Hz)"
        },
        {
          "name": "SR0_RAW_SENS",
          "value": 2,
          "description": "Raw sensor stream rate (Hz)"
        }
      ]
    },
    {
      "id": "final_tests",
      "title": "üß™ Final Testler",
      "type": "system_test",
      "tests": [
        {
          "name": "Motor Test",
          "description": "T√ºm motorlarƒ± test et",
          "type": "motor_test_sequence",
          "channels": [1, 2, 3, 4, 5, 8],
          "duration": 3,
          "power": 20
        },
        {
          "name": "Depth Hold Test",
          "description": "Derinlik tutma testi",
          "type": "mode_test",
          "mode": "AltHold",
          "duration": 10
        },
        {
          "name": "Stabilization Test", 
          "description": "Stabilizasyon testi",
          "type": "attitude_test",
          "duration": 10
        },
        {
          "name": "GPS Test",
          "description": "GPS konumu testi",
          "type": "gps_test",
          "min_satellites": 6,
          "timeout": 30
        },
        {
          "name": "Battery Monitor Test",
          "description": "Batarya monit√∂r√º testi",
          "type": "battery_test",
          "expected_voltage": 22.2,
          "tolerance": 2.0
        }
      ]
    },
    {
      "id": "mission_planning",
      "title": "üó∫Ô∏è G√∂rev Planlama",
      "type": "mission_setup",
      "content": {
        "message": "TEKNOFEST g√∂revleri i√ßin waypoint'leri ayarlayƒ±n",
        "templates": [
          {
            "name": "G√∂rev 1: Seyir + Geri D√∂n√º≈ü", 
            "description": "10m d√ºz seyir, 50m uzakla≈üma, geri d√∂n√º≈ü",
            "waypoints": [
              {
                "type": "TAKEOFF",
                "depth": -2.0,
                "description": "2m derinliƒüe in"
              },
              {
                "type": "WAYPOINT", 
                "relative_position": [10, 0],
                "depth": -2.0,
                "description": "10m d√ºz seyir"
              },
              {
                "type": "WAYPOINT",
                "relative_position": [50, 0], 
                "depth": -2.0,
                "description": "50m uzakla≈ü"
              },
              {
                "type": "RTL",
                "depth": -2.0,
                "description": "Ba≈ülangƒ±ca d√∂n"
              },
              {
                "type": "LAND",
                "depth": 0.0,
                "description": "Y√ºzeye √ßƒ±k"
              }
            ]
          },
          {
            "name": "G√∂rev 2: Roket Atƒ±≈üƒ±",
            "description": "Atƒ±≈ü b√∂lgesine git, +30¬∞ eƒüim, roket fƒ±rlat",
            "waypoints": [
              {
                "type": "TAKEOFF",
                "depth": -2.0,
                "description": "2m derinliƒüe in"
              },
              {
                "type": "WAYPOINT",
                "relative_position": [0, 0],
                "depth": -2.0,
                "description": "Atƒ±≈ü b√∂lgesi"
              },
              {
                "type": "LAND", 
                "depth": 0.0,
                "pitch": 30.0,
                "description": "Y√ºzeye +30¬∞ eƒüimle √ßƒ±k"
              },
              {
                "type": "DO_SET_SERVO",
                "channel": 6,
                "pwm": 2000,
                "description": "Payload bay a√ß"
              },
              {
                "type": "DO_SET_SERVO",
                "channel": 7, 
                "pwm": 2000,
                "description": "Roket fƒ±rlat"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "completion",
      "title": "üéâ Kurulum Tamamlandƒ±!",
      "type": "completion",
      "content": {
        "message": "TEKNOFEST Su Altƒ± Roket Aracƒ±nƒ±z kullanƒ±ma hazƒ±r!",
        "next_steps": [
          "üîã Batarya seviyesini kontrol edin (>22V)",
          "üåä Su ge√ßirgenlik testini yapƒ±n",
          "üì° Telemetri baƒülantƒ±sƒ±nƒ± test edin", 
          "üéØ G√∂rev planƒ±nƒ± y√ºkleyin",
          "üöÄ Test s√ºr√º≈ü√º yapƒ±n",
          "üìπ Kabiliyet videosunu √ßekin"
        ],
        "support": {
          "documentation": "README.md",
          "test_scripts": "Test/ klas√∂r√º",
          "demo_scripts": "Kabiliyet Videosu/ klas√∂r√º"
        }
      }
    }
  ],
  "post_setup_actions": [
    {
      "name": "Parameter Backup",
      "description": "T√ºm parametreleri yedekle",
      "action": "param_backup",
      "filename": "teknofest_params_backup.param"
    },
    {
      "name": "Reboot System",
      "description": "Sistemi yeniden ba≈ülat",
      "action": "reboot",
      "delay": 5
    },
    {
      "name": "Health Check",
      "description": "Sistem saƒülƒ±ƒüƒ±nƒ± kontrol et",
      "action": "health_check",
      "timeout": 30
    }
  ],
  "troubleshooting": {
    "common_issues": [
      {
        "issue": "Pixhawk baƒülantƒ± hatasƒ±",
        "solutions": [
          "USB kablosunu kontrol edin",
          "BlueOS'un Pixhawk'ƒ± algƒ±ladƒ±ƒüƒ±ndan emin olun",
          "Farklƒ± USB port deneyin"
        ]
      },
      {
        "issue": "Servo tepki vermiyor",
        "solutions": [
          "Servo g√º√ß kaynaƒüƒ±nƒ± kontrol edin",
          "PWM kablo baƒülantƒ±larƒ±nƒ± kontrol edin", 
          "SERVO_FUNCTION parametrelerini kontrol edin"
        ]
      },
      {
        "issue": "Derinlik sens√∂r√º okumuyor",
        "solutions": [
          "I2C baƒülantƒ±larƒ±nƒ± kontrol edin (GPIO 2/3)",
          "D300 sens√∂r√ºn 0x77 adresinde olduƒüunu doƒürulayƒ±n",
          "i2cdetect -y 1 komutuyla sens√∂r√º kontrol edin"
        ]
      },
      {
        "issue": "Motor arming yapamƒ±yor",
        "solutions": [
          "Kalibrasyonlarƒ±n tamamlandƒ±ƒüƒ±ndan emin olun",
          "G√ºvenlik kontrol anahtarƒ±nƒ± kontrol edin",
          "Batarya voltajƒ±nƒ±n yeterli olduƒüunu kontrol edin"
        ]
      }
    ]
  }
} 